<!doctype html>
<html lang="en">

<head>
    <title>UstBil Tourism - Blog</title>
    <meta charset="utf-8">
    <link rel="shortcut icon" type="image/png" href="image/favicon.ico"/>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
    <header class="header">
        <a href="#" class="logo">UstBil</a>
        <nav class="navbar">
            <ul>
                <li><a href="index.html">Home Page</a></li>
                <li><a href="tours.html">Tours</a></li>
                <li><a href="tourcalendar.html">Tour Calender</a></li>
                <li><a href="blog.html">Blog</a></li>
                <li><a href="faq.html">Faq</a></li>
                <li><a href="aboutus.html">About Us</a></li>
                <li><a href="contactus.html">Contact Us</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="blogmain">
            <h1>This is the Blog Page</h1>
            <div id="routes-container"></div>
        </div>    

        <!-- New section for blog posts -->
        <section id="blog-posts">
            <h2>Blog Posts</h2>
            <div class="post-container" id="post-container"></div>
        </section>

        <!-- New section for city guides -->
        <section id="city-guide" style="display:none;">
            <h2 id="city-name"></h2>
            <div id="guide-content"></div>
            <button id="back-button">Back to Blog Posts</button>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="footer-col">
                    <h4>Pages</h4>
                    <ul>
                        <li><a href="index.html">Home Page</a></li>
                        <li><a href="tours.html">Tours</a></li>
                        <li><a href="tourcalendar.html">Tour Calender</a></li>
                        <li><a href="blog.html">Blog</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>get help</h4>
                    <ul>
                        <li><a href="faq.html">Faq</a></li>
                        <li><a href="aboutus.html">About Us</a></li>
                        <li><a href="contactus.html">Contact Us</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Info</h4>
                    <p>UstBil Tourism is a tourism agency that works to make your dream travels come true. 
                        We work to offer you the most suitable travel options with our experienced and expert team. 
                        We attach importance to customer satisfaction and always strive to provide the best service.</p>
                </div>
                <div class="footer-col">
                    <h4>follow us</h4>
                    <div class="social-links">
                        <a href="https://www.instagram.com/slckstn/" target="_blank"><i class="fab fa-instagram"></i></a>
                        <a href="https://www.instagram.com/bugrabildirenn/" target="_blank"><i class="fab fa-instagram"></i></a>
                        <a href="https://github.com/Slckstn" target="_blank"><i class="fab fa-github"></i></a>
                        <a href="https://github.com/bugrabildiren" target="_blank"><i class="fab fa-github"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript to dynamically load blog posts and city guides -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            fetch('blog.json')
            .then(response => response.json())
            .then(data => {
                const postContainer = document.getElementById('post-container');
                const routesContainer = document.getElementById('routes-container');
                
                data.routes.forEach(route => {
                    const imgSrc = `image/${route.image}`;
                    const postDiv = document.createElement('div');
                    postDiv.className = 'post';
                    postDiv.innerHTML = `
                        <img src="${imgSrc}" alt="${route.city}">
                        <h3><a href="#" class="city-link" data-city="${route.city}" data-description="${route.description}">${route.city}</a></h3>
                        <p>${route.short_description}</p>
                    `;
                    postContainer.appendChild(postDiv);

                    const routeDiv = document.createElement('div');
                    routeDiv.className = 'route';
                    routeDiv.innerHTML = `
                        <img src="${imgSrc}" alt="${route.city}">
                        <h3>${route.city}</h3>
                        <p>${route.short_description}</p>
                    `;
                    routesContainer.appendChild(routeDiv);
                });

                // Add event listeners to city links
                document.querySelectorAll('.city-link').forEach(link => {
                    link.addEventListener('click', function(event) {
                        event.preventDefault();
                        const city = this.getAttribute('data-city');
                        const description = this.getAttribute('data-description');
                        document.getElementById('city-name').innerText = city;
                        document.getElementById('guide-content').innerHTML = description.replace(/\n/g, '<br>');
                        document.getElementById('city-guide').style.display = 'block';
                        document.getElementById('blog-posts').style.display = 'none';
                    });
                });

                // Back button event listener
                document.getElementById('back-button').addEventListener('click', function() {
                    document.getElementById('city-guide').style.display = 'none';
                    document.getElementById('blog-posts').style.display = 'block';
                });
            })
            .catch(error => console.error('Error:', error));
        });
    </script>
</body>
</html>